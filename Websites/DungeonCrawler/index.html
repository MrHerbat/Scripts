<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawler: TEST</title>
    <style>
    td{
        border: 1px solid black;
        width: 10px;
        height: 10px;
        margin: 0;
    }
    .wall{
        background-color: darkgray;
    }
    .free{
        background-color: antiquewhite;
    }
    </style>
    <script type="module">
        
    </script>
</head>
<body>
    <header>

    </header>
    <body>
        <section id="mapScreen">
            <table id="map"></table>
        </section>
        <section id="playerScreen">

        </section>
        <section id="chatBox">

        </section>
        <script type="module">
            const data = {
                "rooms": [
                    {
                        "connects": [true, true, true, true], //North, East, South, West
                        "layout": [
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1],
                        [1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1],
                        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                        [1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1],
                        [1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1]
                        ]
                    },
                    {
                        "connects": [false,true,false,true],
                        "layout":[
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                        [1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],
                        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                        [1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],
                        [1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],
                        [1,1,1,0,0,0,0,0,0,0,0,0,1,1,1],
                        [1,1,1,0,0,0,0,0,0,0,0,0,1,1,1],
                        [1,1,1,0,0,0,0,0,0,0,0,0,1,1,1],
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
                        ]
                    }
                ]
            };

            var roomsConnection = [];
            var roomsLayout = [];
            
            const map = document.getElementById("map");


            function insertRoomInfo(id) {
                roomsConnection[id] = data.rooms[id].connects;
                roomsLayout[id] = data.rooms[id].layout;
                    
            }

            function generateRoom(layout,id) {
                insertRoomInfo(id);

                let temp = layout[id];
                for (let index = 0; index < 15; index++) {
                    let row = document.createElement("tr");
                    row.id = `row-${index}`;
                    for (let index2 = 0; index2 < 15; index2++) {
                        let cell = document.createElement("td");
                        cell.id = `cell-${index+index2}`;
                        if(temp[index][index2] == 1){
                            cell.classList.add("wall");
                        }else if (temp[index][index2] == 0){
                            cell.classList.add("free");
                        }
                        row.appendChild(cell);
                    }
                    map.appendChild(row);
                }
            }

            

            generateRoom(roomsLayout,1);
            console.log(roomsConnection[1]);
        </script>
    </body>
</body>
</html>