<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawler: TEST</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>

    </header>
    <body>
        <section id="mapScreen">
            <table id="map"></table>
        </section>
        <section id="playerScreen">

        </section>
        <section id="chatBox">

        </section>
        <script>
            var roomData = {conn:[],layout:[]};
            
            
            const map = document.getElementById("map");


            function generateMap(params) {
                for (let index = 0; index < 15; index++) {
                    let row = document.createElement("tr");
                    row.id = `row-${index}`;
                    for (let index2 = 0; index2 < 15; index2++) {
                        let cell = document.createElement("td");
                        cell.id = `cell-${index+index2}`;
                        row.appendChild(cell);
                    }
                    map.appendChild(row);
                }
            }

            function insertRoomInfo(id) {
                fetch("./rooms.json")
                    .then(response => response.json())
                    .then(data =>{
                        roomData.conn[id] = data.rooms[0].connects;
                        room.layout[id] = data.rooms[0].layout;
                    });
            }

            insertRoomInfo(0);
            console.log(room.layout[0]);

            generateMap();
        </script>
    </body>
</body>
</html>